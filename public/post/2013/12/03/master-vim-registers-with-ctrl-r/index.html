<!doctype html>

<html lang="en-us">

<head>
  <title>My New Hugo Site</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="" /><meta name="generator" content="Hugo 0.60.1" />
    

  <meta property="og:title" content="escaping the tar pit" />
<meta property="og:description" content="If you don&#39;t know by now, I&#39;m sort of a personal efficiency maven. I don&#39;t like to waste keystrokes, I&#39;m always experimenting with different key bindings and shortcuts, and I feel almost personally offended when I see someone reach for their mouse to click a button that I know has a keyboard equivalent.
But this isn&#39;t about my pet peeves; this is about tuning yourself in to the improvements you can make on a daily basis that will increase your lifetime efficiency dramatically." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/post/2016/04/07t064259/0400/escaping-the-tar-pit/" />
<meta property="article:published_time" content="2016-04-07T06:42:59-04:00" />
<meta property="article:modified_time" content="2016-04-07T06:42:59-04:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="escaping the tar pit"/>
<meta name="twitter:description" content="If you don&#39;t know by now, I&#39;m sort of a personal efficiency maven. I don&#39;t like to waste keystrokes, I&#39;m always experimenting with different key bindings and shortcuts, and I feel almost personally offended when I see someone reach for their mouse to click a button that I know has a keyboard equivalent.
But this isn&#39;t about my pet peeves; this is about tuning yourself in to the improvements you can make on a daily basis that will increase your lifetime efficiency dramatically."/>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <script src="https://kit.fontawesome.com/b76b73e8e8.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">My New Hugo Site</a>
            </h1>

      <ul id="social-media">
      </ul>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>

    <main>




<article>

    <h1>master vim registers with ctrl r</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2013-12-03T00:00:00Z">Dec 3, 2013</time>
        </li>
        

        

        <li>5 minutes read</li>
    </ul>
</aside>

    

    <p>Vim's registers are incredibly powerful. You use them all the time when you
yank and put text or record macros, but are you using CTRL-R (in insert
mode)? If you aren't, you're missing out on a huge efficiency boost! I will
show you what CTRL-R does and how it can make you faster and give you even
more uses for Vim's registers.<del>MORE</del></p>
<p>From the Vim documentation:</p>
<blockquote>
<p>Insert the contents of a register. Between typing CTRL-R and the second
character, <code>&quot;</code> will be displayed to indicate that you are expected to enter
the name of a register.</p>
</blockquote>
<p>In its simplest form, you can press CTRL-R followed by a register name (such
as a letter, number, or symbol as seen in the output of <code>:registers</code>) and the
contents of that register will be inserted at the cursor position, as though
you had typed it. I use this all the time to insert text that I had just
yanked by pressing <code>CTRL-R &quot;</code>. Double quote is the name of the default
register.</p>
<h2 id="playing-with-macros">Playing with Macros</h2>
<p>You can also use CTRL-R to do some fun things with macros. As you may already
know, macros are recorded into registers and you can manipulate that content
in the same way that you manipulate any register. Let's record a macro as an
example. Here is a macro I recorded into register &ldquo;q&rdquo; that starts inserting at
the end of the line with &ldquo;A&rdquo; and types out &quot; and my ax!&rdquo; followed by pressing
escape.</p>
<p><code>qqA and my ax!^[q</code></p>
<p>Note that <code>^[</code> is how Vim represents a literal escape. Great, so I have a
macro recorded into register &ldquo;q&rdquo; and I can play it back by pressing <code>@q</code> as
usual. But let's say I want to make a change to this macro and I am far too
lazy to re-record it. Instead of inserting &quot; and my ax!&rdquo; at the end of the
line, I want it to insert &ldquo;My ax and &quot; at the beginning of the line.</p>
<p>We can use CTRL-R to get access to that macro in a buffer so that we can edit
it. Just press:</p>
<p><code>i^R^Rq</code></p>
<p>Press &ldquo;i&rdquo; to enter insert mode, then press CTRL-R twice, then press &ldquo;q&rdquo; to
insert the contents of the &ldquo;q&rdquo; register. What ought to come out looks like
this:</p>
<p><code>A and my ax!^[</code></p>
<p>The reason you press CTRL-R twice is to insert that escape character code
literally. If you only press CTRL-R once, the contents of the register will be
inserted without any literal control characters, so you'll lose the escape
keypress, which is bad news bears.</p>
<p>Now that I have the contents of the macro sitting in a buffer, I can edit it
normally as text. I will change it to look like this:</p>
<p><code>IMy ax and ^[</code></p>
<p>Now the macro presses &ldquo;I&rdquo; to start inserting at the beginning of the line and
types out &ldquo;My ax and &quot; then presses escape. Let's capture that back into the
&ldquo;q&rdquo; register. I place my cursor at the beginning of that line and press:</p>
<p><code>&quot;qy$</code></p>
<p>I have just used the double quote key to tell Vim I want to use the &ldquo;q&rdquo;
register for the next command and pressed <code>y$</code> to yank to the end of the line.
Now my revised macro is in the &ldquo;q&rdquo; register and can be played normally with
<code>@q</code>. This little trick comes in very handy when you are working with longer
macros and you make a mistake partway through or want to tweak the behavior a
little bit without re-recording the whole sequence.</p>
<p>As a bonus, now that you know how to use CTRL-R twice in a row to output the
contents of a register literally, including control characters, you can
confidently save macros for later use by creating mappings. If I want to
create a new mapping to run the same sequence that I recorded in this macro, I
could type this:</p>
<p><code>nnoremap &lt;Leader&gt;a ^R^Rq</code></p>
<p>The <code>nnoremap</code> command creates a mapping for the key sequence <code>&lt;Leader&gt;a</code> to
the literal contents of the &ldquo;q&rdquo; register without allowing nested mappings.
It's important to use <code>nnoremap</code> because in the future you may create a
mapping for one of the key sequences used in this mapping and you don't want
that to run; you want this key sequence to be played back literally. After
pressing &ldquo;q&rdquo; in the line above, it should look like this:</p>
<p><code>nnoremap &lt;Leader&gt;a IMy ax and ^[</code></p>
<p>Ta daa!</p>
<h2 id="expressions">Expressions</h2>
<p>In a [previous post][1] I talked about how to use CTRL-R and the expression
register to easily edit complex Vim settings. The expression register is super
powerful and can do a lot more than just output simple values. For example, it
is possible to perform calculations and call any of the built-in functions
found in <code>:h function-list</code>.</p>
<p>Things are about to get pretty advanced, so make sure you're strapped in. This
is a completely contrived example, but I am going to show you how to create a
macro that uses CTRL-R to multiply the number under the cursor by two. Later
on, you can think of other crazy ways to apply these concepts and leave them
in the comments below for all to enjoy.</p>
<p>The basic procedure is this:</p>
<ol>
<li>Begin recording a macro into register &ldquo;q&rdquo;</li>
<li>Change the word (the number) under the cursor. This places the deleted
value in the default register, <code>&quot;&quot;</code>, and puts you in insert mode</li>
<li>Use CTRL-R to insert an expression and use CTRL-R again to get the value
from the default register, <code>&quot;&quot;</code>, into the command.</li>
</ol>
<p>The exact keystrokes to record the macro are these: <code>qqciw^R=2*^R&quot;^M^[q</code></p>
<p>Note in the macro string that <code>^R</code> is CTRL-R, <code>^M</code> is the return key, and <code>^[</code>
is escape. Give it a try, record the macro, then type in some numbers in the
buffer and replay the macro with the cursor on each number. Because we have
used <code>ciw</code> you can place your cursor anywhere over the number and it will
replace the whole number with the sum!</p>
<p>Now you have the power to <em>truly master CTRL-R</em>!</p>
<p>[1]: {% post_url 2013-10-24-test-complex-vim-settings-easily %}</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="http://example.org/post/2013/11/19/why-you-should-give-zsh-another-try/"><i class="fa fa-chevron-circle-left"></i> why you should give zsh another try</a>
        </li>
        
        
        <li>
            <a href="http://example.org/post/2014/02/12/sharpening-your-blades/">sharpening your blades <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6> |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="http://example.org/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>

</body>

</html>

